<!doctype html>
<html><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CMSimfly</title> <link rel="stylesheet" type="text/css" href="./../static/cmsimply.css">
<script src="tipuesearch_content.js"></script>
<script src="./../static/jquery.js"></script>
<link rel="stylesheet" href="./../static/tipuesearch/css/tipuesearch.css">
<script src="./../static/tipuesearch/tipuesearch_set.js"></script>
<script src="./../static/tipuesearch/tipuesearch.min.js"></script>

<script type="text/javascript" src="./../static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCSharp.js"></script>
<link type="text/css" rel="stylesheet" href="./../static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<!-- for LaTeX equations 暫時不用
<script src="https://scrum-3.github.io/web/math/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>
-->
<!-- 暫時不用
<script src="./../static/fengari-web.js"></script>
<script type="text/javascript" src="./../static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->

<script type="text/javascript">
/*shorthand of $(document).ready(function(){};); */
$(function(){
    $("ul.topmenu> li:has(ul) > a").append('<div class="arrow-right"></div>');
    $("ul.topmenu > li ul li:has(ul) > a").append('<div class="arrow-right"></div>');
});
function doSearch() {
     $('#tipue_search_input').tipuesearch({
        newWindow: true, minimumLength: 2
     });
}
$(document).ready(doSearch);
</script>

</head><header><h1>協同產品設計第六組</h1> <confmenu>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="sitemap.html">Site Map</a></li>
<li><a href="./../reveal/index.html">reveal</a></li>
<li><a href="./../blog/index.html">blog</a></li>

</ul>
</confmenu></header>
<div class='container'><nav><ul id='css3menu1' class='topmenu'><div class="tipue_search_group"><input style="width: 6vw;" type="text" name="q" id="tipue_search_input" pattern=".{2,}" title="Press enter key to search" required></div><li><a href='執行規劃.html'>執行規劃</a><ul><li><a href='手足球系統模擬.html'>手足球系統模擬</a></li></ul><li><a href='設計與繪圖.html'>設計與繪圖</a><ul><li><a href='零組件尺寸分析.html'>零組件尺寸分析</a><li><a href='參數設計與繪圖.html'>參數設計與繪圖</a><li><a href='細部設計與 BOM.html'>細部設計與 BOM</a></li></ul><li><a href='V-rep 動態模擬.html'>V-rep 動態模擬</a><ul><li><a href='送球機構設計與模擬.html'>送球機構設計與模擬</a><li><a href='系統功能展示.html'>系統功能展示</a></li></ul><li><a href='結案報告.html'>結案報告</a><ul><li><a href='專案口頭簡報.html'>專案口頭簡報</a><li><a href='專案報告書.html'>專案報告書</a></li></ul><li><a href='期中課程內容.html'>期中課程內容</a><ul><li><a href='簡介.html'>簡介</a><li><a href='組員名單.html'>組員名單</a><li><a href='建立隨身系統.html'>建立隨身系統</a><ul><li><a href='新增資料夾.html'>新增資料夾</a><li><a href='SciTE使用.html'>SciTE使用</a><li><a href='安裝Python入可攜系統.html'>安裝Python入可攜系統</a><li><a href='start.bat製作.html'>start.bat製作</a><li><a href='stop.bat製作.html'>stop.bat製作</a><li><a href='差異比對.html'>差異比對</a></li></ul><li><a href='導入ungit.html'>導入ungit</a><li><a href='可攜程式懶人包.html'>可攜程式懶人包</a><li><a href='Portable Python.html'>Portable Python</a><li><a href='網路故障排除.html'>網路故障排除</a><li><a href='組員個人作業.html'>組員個人作業</a><ul><li><a href='40623136.html'>40623136</a><li><a href='40623137.html'>40623137</a><li><a href='40623147.html'>40623147</a><li><a href='40623150.html'>40623150</a><li><a href='40623107.html'>40623107</a><li><a href='40623155.html'>40623155</a><li><a href='40423122.html'>40423122</a><li><a href='40423249.html'>40423249</a></li></ul><li><a href='問題與討論.html'>問題與討論</a><li><a href='Git手冊.html'>Git手冊</a><ul><li><a href='電子書.html'>電子書</a><li><a href='手冊重點.html'>手冊重點</a></li></ul><li><a href='Ungit.html'>Ungit</a><ul><li><a href='Open.html'>Open</a><li><a href='Commit&Push.html'>Commit&Push</a></li></ul><li><a href='期中報告.html'>期中報告</a><ul><li><a href='40623107-1.html'>40623107-1</a><li><a href='40623137-1.html'>40623137-1</a><li><a href='40623147-1.html'>40623147-1</a><li><a href='40623150-1.html'>40623150-1</a><li><a href='40623155-1.html'>40623155-1</a><li><a href='40623136-1.html'>40623136-1</a><li><a href='40423122-1.html'>40423122-1</a><li><a href='40423249-1.html'>40423249-1</a></li></ul></nav><section><div id="tipue_search_content">電子書 << <a href='電子書.html'>Previous</a> <a href='Ungit.html'>Next</a> >> Ungit<br /><h1>手冊重點</h1>
<h4>開始</h4>
<h4>版本控制系統</h4>
<p><img alt="" height="683" src="./../images/p01.png" width="800"/></p>
<p>利用RCS指令可控制任一版本資料，其<span>工作原理是在硬碟上保存一堆特殊格式的補丁集合，通過套用功能，便可以重新產生出每個版本的檔案內容。</span></p>
<p><span>Git控制方法分成</span><span>集中化與分散式版本控制系統</span></p>
<p><span>集中化版本控制系統</span></p>
<p><span><img alt="" height="556" src="./../images/p02.png" width="800"/></span></p>
<p>好處：</p>
<p>1.清楚了解分組內各成員所做進度<br/>2.管理員統一控制所有開發者權限<br/>3.各用戶端統一使用統一版本系統，好管理<br/>壞處：<br/>1.中央伺服器發生故障，各開發者便無法協同合作<br/>2.統一集中資料會有遺失資料風險</p>
<p>分散式版本控制系統<br/><br/>因集中化控制的不便，進而衍化出分散式控制系統</p>
<p><img alt="" height="800" src="./../images/p03.png" width="668"/><br/>優點：<br/>1.任一協同伺服器故障，事後都能以任一用戶端鏡像還原<br/>2.能與許多遠端倉儲互動，使不同地方群組能在不一樣的地方完成同一專案協同合作<br/>3.階層式的分工合作<br/><br/></p>
<p>-------------------------------------------------------------------------------------------------------------</p>
<p><strong>Git完整性</strong></p>
<p><br/><span>1.Git 中所有的物件在儲存前都會被計算校驗碼（checksum）並以校驗碼參照物件。</span><br/>2.計算較驗碼<span>機制稱為 SHA-1 雜湊演算法。 一個校驗碼是由 40 個 16 進位的字母（0–9 和 a–f）所組成，Git 會根據檔案的內容和資料夾的結構來計算。 <br/>3. Git 的資料庫內，每個檔案都是用其內容的校驗碼來儲存，而不是使用檔名。</span></p>
<p><strong>Git狀態</strong></p>
<p>1.已提交（committed）：<br/><span>檔案己安全地存在你的本地端資料庫。</span></p>
<p>2.<span>已修改（modified）：<br/>檔案已被修改但尚未提交到本地端資料庫。 <br/></span></p>
<p>3.<span>已預存（staged）：<br/>已預存代表這檔案將會被存到下次你提交的快照中。<br/><br/></span></p>
<p><span><img alt="" height="441" src="./../images/p04.png" width="800"/></span></p>
<p><strong>Git工作流程</strong></p>
<p>1.你在你工作目錄修改檔案。</p>
<p>2.預存檔案，將檔案的快照新增到預存區。</p>
<p>3.做提交的動作，這會讓存在預存區的檔案快照永久地儲存在 Git 目錄中。</p>
<h4>Git基礎</h4>
<p><strong>取得倉儲</strong></p>
<p>命令格式：<span>git clone [url]<br/>1.<code>https://</code><span><br/>2.git://<br/>3.user@server:path/to/repo.git<br/><br/></span></span></p>
<p><strong>檢查檔案狀態</strong></p>
<p><span>命令格式：git status<br/>用來偵測哪些檔案處在什麼樣的狀態下的主要工具</span></p>
<p><span>使用<code>git status -s</code><span><span> </span>或<span> </span></span><code>git status --short會得到一種較精簡的修改</code><br/><br/><strong>新增檔案</strong></span></p>
<p><strong></strong>命令格式：<span>git add.<br/>用以追蹤新的檔案、預存檔案使用</span></p>
<p><strong>提交修改</strong></p>
<p>命令格式：git commit</p>
<div class="paragraph">預備提交本次變更使用<br/><br/></div>
<div class="paragraph"></div>
<div class="paragraph"><strong>移除檔案</strong></div>
<div class="paragraph"><strong></strong></div>
<div class="paragraph">命令格式：<span>git rm</span></div>
<div class="paragraph"><span>從預存區中移除已追蹤檔案<br/><br/></span></div>
<div class="paragraph"><span></span></div>
<div class="paragraph"><strong>變更檔案</strong></div>
<div class="paragraph"></div>
<div class="paragraph"></div>
<div class="paragraph">命令格式：git mv file_from file_to
<div class="paragraph">於<span> Git 中重新命名一個檔案<br/><br/></span></div>
</div>
<div class="paragraph"></div>
<div class="paragraph"><strong>復原檔案</strong></div>
<div class="paragraph"><strong></strong></div>
<div class="paragraph">命令格式：git commit --amend</div>
<div class="paragraph">復原上一個提交內容<br/><br/></div>
<div class="paragraph"></div>
<div class="paragraph"><strong>推送檔案</strong></div>
<div class="paragraph"></div>
<div class="paragraph">命令格式：git push</div>
<div class="paragraph">完成近端內容，推回上游</div>
<div class="paragraph"></div>
<div class="paragraph"></div>
<div class="paragraph"><strong>新增別名</strong></div>
<div class="paragraph"></div>
<div class="paragraph">命令格式：git config</div>
<div class="paragraph"><span>替指令設定別名</span></div>
<div class="paragraph"><span></span></div>
<div class="paragraph"><span></span></div>
<div class="paragraph"><strong>標籤</strong></div>
<div class="paragraph"></div>
<div class="paragraph">命令格式：git tag</div>
<div class="paragraph"><span>用此功能來標出發行版本</span></div>
<div class="paragraph"><span></span></div>
<div class="paragraph"><strong>檢視遠端</strong></div>
<div class="paragraph"><strong></strong></div>
<div class="paragraph">命令格式：git remote</div>
<div class="paragraph"><span>檢視已設定的遠端版本庫， 列出每個遠端版本庫的「簡稱」</span></div>
<div class="paragraph"></div>
<h4>使用Git分支</h4>
<p>用於</p>
<ol class="arabic">
<li>
<p>開發一個網站。</p>
</li>
<li>
<p>建立一個分支以實現一個新故事。</p>
</li>
<li>
<p>在這個分支上進行開發。</p>
</li>
</ol>
<p><span>用於分支（branch）與合併（merge）工作流程</span></p>
<p><span></span><strong>建立分支</strong></p>
<p>使用指令：<span>git branch</span></p>
<p>此會在<span>目前提交上新建一個指標</span></p>
<p><img alt="" height="331" src="./../images/p05.png" width="800"/></p>
<p><strong>切換分支</strong></p>
<p></p>
<p>使用指令：<span>git checkout</span></p>
<p><span>切換到一個已經存在的分支</span></p>
<p><span><img alt="" height="460" src="./../images/p06.png" width="800"/></span></p>
<p><strong>分支歷史</strong></p>
<p></p>
<p>使用指令：<span>git log</span></p>
<p><span>查出提交歷史，顯示分支指標所在與歷史如何被分離開來。</span></p>
<p></p>
<p></p>
<h4>伺服器上的Git</h4>
<p><strong>通訊協定種類：</strong></p>
<div><strong>Local protocols</strong><br/><span></span></div>
<p></p>
<div>
<p><span>優點：</span></p>
<p><span>1.可將倉儲副本傳送到各開發者具共享權限的位置，<br/>並同於設置其他共享目錄一樣設置存取、編輯的權限。</span></p>
<p><span>2.運用git指令</span><span>，使共同開發者更方便推送到遠端，同時也方便存取使用。</span></p>
<p><span>缺點:</span></p>
<p><span>1.共享存取通常更難以從多個位置進行設定和存取。</span></p>
<p><span>2.若使用個人電腦的話，則需安裝遠端系統，否則會連基本網路存取都還要來得困難與慢上許多。</span></p>
<p><span>3.每個共同編寫者都具有對“遠端”目錄的訪問權限，無法限制或阻擋使用者更改或刪除內部Git文件或破壞遠端倉儲。</span></p>
<p><strong>SSH通訊協定(<span>Secure Shell</span>)</strong></p>
<p>優點:</p>
<p>1.SSH相較容易設置，且保護程式較多。</p>
<p>2.透過SSH存取資安是安全的，所有數據傳輸都經過加密和身份驗證。</p>
<p>3.像HTTP/S、Git與Local protocols一樣，讓數據在傳輸前盡量接近。</p>
<p>缺點:</p>
<p>1.無法通過它對倉儲進行匿名存取。</p>
<p>2.如果想允許匿名存取並且仍使用SSH，則需設定SSH以利推送，但其內容可能會被其他人獲取。</p>
<p><strong>Git協定</strong></p>
<p>優點:</p>
<p>1.目前最快的網絡傳輸協議。</p>
<p>2.若為共同倉儲或為不需身份驗證進行讀取，則需設定Git保護程式。</p>
<p>3.Git倉儲可供所有人clone。</p>
<p>缺點:</p>
<p>1.缺乏身份驗證。</p>
<p>2.通常為唯一存取權限(即推送、寫入等)，若開啟推送存取權限，則擁有此URL的任何人都可推送到倉儲內。</p>
<p><strong>HTTP</strong></p>
<p>可分為兩種，分別為新制與舊制。</p>
<p>新制:</p>
<p>與SSH或Git協定的運行方式非常相似，它可以設置為像git://協議一樣匿名服務，也可以通過SSH協議等身份驗證和加密來推送。</p>
<p>舊制:</p>
<p>直接將Git倉儲提供設置為來自Web服務器的普通文件。優點於設置的簡單性。但此外，任何皆可訪問倉儲Web服務器的人都可以存取此倉儲。</p>
<p>以下優缺點於新制HTTP</p>
<p>優點:</p>
<p>1.能夠使用用戶名和密碼進行身份驗證。</p>
<p>2.通過HTTPS以讀取方式提供倉儲。</p>
<p>缺點:</p>
<p>與某些服務器上的SSH相比，在HTTP/S上使用Git可能會有點棘手。</p>
<p><span></span>--------------------------------------------------------------------------------------------</p>
<p><strong>在伺服器上佈署Git：</strong></p>
<p><span>要clone倉儲以新增倉儲，使用該--bare選項運行clone命令。將指令尾端輸入.git。</span></p>
<div>使用指令：<span> git clone --bare my_project my_project.git</span></div>
<div></div>
<div>使用後<span>在目錄中會有Git目錄數據的副本my_project.git。</span></div>
<div><span></span></div>
<div><span>以下指令等同於上述指令，但文件部分會存在些許細微差別。<br/><br/></span></div>
<div><span>使用指令：cp -Rf my_project/.git my_project.git</span></div>
<div><span></span></div>
<div><span>將倉儲複製到下來設置新的倉儲：<br/><br/></span></div>
<div><span>假設/srv/git存在於該服務器上，並已設置一個名為git.example.com的SSH服務器，而希望將所有Git存儲庫存儲在該/srv/git目錄下。</span></div>
<div><span></span></div>
<div>使用指令：scp -r my_project.git <a href="mailto:user@git.example.com:/srv/git">user@git.example.com:/srv/git</a></div>
<div></div>
<div>接著對有這目錄及SSH的權限的用戶便可以clone，也有推送訪問權限。</div>
<div></div>
<div>使用指令：<span>git clone user@git.example.com:/srv/git/my_project.git</span></div>
<div></div>
<div><span>如果git init使用該--shared選項執行命令，Git將自動將寫入權限正確添加到倉儲。</span></div>
<div><span></span></div>
<div><span>使用指令：<br/><br/></span></div>
<div>ssh <a href="mailto:user@git.example.com">user@git.example.com</a></div>
<div><br/><span>cd /srv/git/my_project.git</span></div>
<div><br/><span>git init --bare --shared</span></div>
<div><span></span></div>
<div><span>-----------------------------------------------------------------------------------------------------------</span></div>
<div><strong>個人的SSH公鑰：</strong></div>
<div><strong></strong></div>
<div><span>輸入指令後有出現文件為id_dsa(id_rsa)為自己私人的密鑰，而文件後方多了.pub則為公鑰。</span></div>
<div><span></span></div>
<div><span><span>如下：<br/></span></span>
<p><strong>~/.ssh為目錄</strong></p>
<p> cd ~/.ssh</p>
<p> ls</p>
<p>authorized_keys2</p>
<p>id_dsa</p>
<p>known_hosts</p>
<p>config</p>
<p>id_dsa.pub</p>
<p>*若無金<span>鑰時，可輸入下列指令來創建。</span></p>
<p><span>指令：ssh-keygen</span></p>
<p>接著會需要確保密鑰（.ssh/id_rsa）的位置，需輸入兩次密碼，不需要則可空白。</p>
<p>如用戶需要複製有公鑰文件的內容，輸入下列指令。<br/><strong>~/.ssh/id_rsa為公鑰位置</strong></p>
<p>cat ~/.ssh/id_rsa.pub</p>
<p>-----------------------------------------------------------------------------------------------------</p>
<p><strong>伺服器的設定：</strong></p>
<p>如需設定SSH存取的服務端，則需使用下列方式來進行身分驗證。</p>
<p>&lt;&lt;<span>git為用戶名、 .ssh為目錄、authorized_keys為驗證&gt;&gt;</span></p>
<p><span>指令：</span></p>
<p>sudo adduser git</p>
<p>su git</p>
<p>cd</p>
<p>mkdir .ssh &amp;&amp; chmod 700 .ssh</p>
<p>touch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keys</p>
<p>如需要新增開發人員的SSH公鑰，並將其保存到臨時文件中。<br/>指令如下:</p>
<p>&lt;&lt;範例為john為開發人員的SSH公鑰&gt;&gt;</p>
<p>cat /tmp/id_rsa.john.pub</p>
<p>在一個沒有工作目錄的情況下設置一個空儲存庫。</p>
<p>cd /opt/git</p>
<p>mkdir project.git</p>
<p>cd project.git</p>
<p>git init --bare</p>
<p>將文件推送至遠端倉儲。</p>
<p>&lt;&lt;myproject為文件&gt;&gt;</p>
<p>-----------------------------------------------------------------------------------------</p>
<p>Git常駐程式</p>
<p>若不想將所有人都新增SSH金鑰時，以維護近端的方式運行下列指令:<br/>*此方法設定方便而快速，但因沒有密鑰的身分驗證，所以任何人都可以存取裡面的內容*</p>
<p>git daemon --reuseaddr --base-path=/opt/git/ /opt/git/</p>
<p><strong>--reuseaddr是允許服務器重新啟動而無需等待舊連接超時</strong></p>
<p><strong>--base-path是允許人們克隆項目而不指定整個路徑</strong></p>
<p>&gt;&gt;最後的路徑則需宣告Git維護程序在哪查找所要導出的倉儲&lt;&lt;</p>
<p>若防火牆正執行，還需在正在設置它的資料夾上的檔案9418處打一個洞。<br/>但建議將此維護方法作為擁有倉儲的唯讀權限的用戶使用。</p>
<p>在Ubuntu計算機上，您可以使用Upstart的腳本，並在文件中放入腳本。</p>
<p>*文件為/etc/init/local-git-daemon.conf*</p>
<p>腳本:</p>
<p>start on startup</p>
<p>stop on shutdown</p>
<p>exec /usr/bin/git daemon \</p>
<p>--user=git --group=git \</p>
<p>--reuseaddr \</p>
<p>--base-path=/opt/git/ \</p>
<p>/opt/git/</p>
<p>respawn</p>
<p>要在不重新啟動的情況下運行計算機時</p>
<p>initctl start local-git-daemon</p>
<p>允許未驗證的用戶存取指定的倉儲。</p>
<p>cd /path/to/project.git</p>
<p>touch git-daemon-export-ok</p>
</div>
</div>
<h4>分散式的Git</h4>
<p><strong>分散式工作流程</strong></p>
<p>分散式工作流程分為三種</p>
<p>集中式工作流程、整合式管理員工作流程、企業型工作流程</p>
<p><strong>集中式工作流程：</strong></p>
<p>如前者有人推送，後者必須合併前者的版本，不然會無法推送至儲存庫，是因為避免前者的資料被覆蓋。</p>
<p><strong>整合式管理員工作流程：</strong></p>
<p>倉儲維護人=A、開發人員=B</p>
<p>A推送到公共倉儲。</p>
<p>B clone該倉儲並進行改動，並推上他們的版本。</p>
<p>B向A發送一封電子郵件，要求A提取更改。</p>
<p>A將B的repo添加為遠端，合併原先的資料，推送到主倉儲。</p>
<p><strong>企業型工作流程：</strong></p>
<p>老闆=A、副手=B、開發人員=C</p>
<p>正常的C會在他們主題的分支上工作，並在重新定義他們在master上的工作。而master分支是獨裁者的分支。</p>
<p>B將C的主題分支合併到B的master分支中。</p>
<p>A將B的master分支合併到A的master分支中。</p>
<p>A將他們推master送到倉儲，以便其他C可以對其進行重新定義。</p>
<p>------------------------------------------------------------------------------------</p>
<p><strong>分散式的Git-對專案進行貢獻</strong></p>
<p><span>個人：進入分支後的歷史圖(示意圖)</span></p>
<p><span><img alt="" height="376" src="./../images/0414-1.png" width="800"/></span></p>
<p><span>團體：整合分支圖(示意圖)</span></p>
<p><span><img alt="" height="800" src="./../images/0414-2.png" width="718"/></span></p>
<p><br/><br/><br/></p>
<br />電子書 << <a href='電子書.html'>Previous</a> <a href='Ungit.html'>Next</a> >> Ungit</div></section></div></body></html>